# Сервис авторизации на go



## Internal

## Эндпоинты

1. Регистрация пользователя

Конечная точка: `POST /sign_up`  
Описание: Создание новой учетной записи пользователя.  
Тело запроса:
{
"login": "login11",
"password": "password",
"email": "email@mail.ru"
}
Ответ:  
Успешная регистрация вернет токен для дальнейших аутентифицированных запросов.

2. Аутентификация пользователя

Конечная точка: `POST /sign_in`  
Описание: Аутентификация пользователя и получение токена авторизации.  
Тело запроса:
{
"login": "login11",
"password": "password"
}
Ответ:  
Возвращает токен для аутентифицированных запросов.

3. Сброс пароля

Конечная точка: `POST /reset_password`  
Описание: Запрос на сброс пароля для пользователя.  
Тело запроса:
{
"login": "login11",
"password": "new_password"
}
Ответ:  
Пароль будет сброшен, и будет возвращено сообщение с подтверждением.

4. Получить информацию о пользователе (себя)

Конечная точка: `GET /get_user_info`  
Описание: Получить информацию о аутентифицированном пользователе.  
Заголовки:
- `Authorization`: Токен, полученный при аутентификации.

Ответ:  
Возвращает детали пользователя, такие как имя, возраст, электронная почта и статус учетной записи.

5. Получить информацию о пользователе (другом пользователе)

Конечная точка: `GET /admin/get_user_info?user_id={user_id}`  
Описание: Получить информацию о другом пользователе (доступ администратора).  
Заголовки:
- `Authorization`: Токен, полученный при аутентификации.

Ответ:  
Возвращает детали пользователя, указанного по `user_id`.

6. Обновить информацию о пользователе (себя)

Конечная точка: `POST /set_user_info`  
Описание: Обновить информацию о аутентифицированном пользователе.  
Заголовки:
- `Authorization`: Токен, полученный при аутентификации.

Тело запроса:
{
"name": "world33321111",
"active": true,
"age": 25,
"email": "email@mail.ru"
}
Ответ:  
Возвращает обновленную информацию о пользователе.

7. Обновить роль пользователя

Конечная точка: `POST /set_user_role`  
Описание: Обновить роль аутентифицированного пользователя (доступ администратора).  
Заголовки:
- `Authorization`: Токен, полученный при аутентификации.

Тело запроса:
{
"role": "admin"
}
Ответ:  
Подтверждает обновление роли.

8. Активировать/деактивировать пользователя

Конечная точка: `POST /set_user_active?user_id={user_id}`  
Описание: Активировать или деактивировать учетную запись пользователя (доступ администратора).  
Заголовки:
- `Authorization`: Токен, полученный при аутентификации.

Тело запроса:
{
"active": true
}
Ответ:  
Подтверждает активацию или деактивацию учетной записи пользователя.

## Авторизация

Для конечных точек, требующих авторизации, включите заголовок `Authorization` с токеном, полученным при аутентификации или регистрации.

## Примечания

- Убедитесь, что вся чувствительная информация, такая как пароли, обрабатывается безопасно и не выводится в логи или сообщения об ошибках.
- Замените `user_id` на фактический идентификатор пользователя при выполнении запросов, требующих идентификации пользователя.